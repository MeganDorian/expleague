<style>
body {
  background-color: #efefef;
}
</style>

<div ng-controller="ResultController">
  <super-navbar>
    <super-navbar-title>Результаты поиска</super-navbar-title>
    <super-navbar-button side="left" ng-click="backToHistory()">‹ История</super-navbar-button>
  </super-navbar>

  <div class="connection-progress" ng-if="chatroom.status != 'connected'">
    <ion-spinner icon="lines" class="spinner spinner-lines">
      <svg viewBox="0 0 64 64">
        <g stroke-width="7" stroke-linecap="round">
          <line x1="10" x2="10">
            <animate attributeName="y1" dur="750ms" values="16;18;28;18;16;16" repeatCount="indefinite"></animate>
            <animate attributeName="y2" dur="750ms" values="48;46;36;44;48;48" repeatCount="indefinite"></animate>
            <animate attributeName="stroke-opacity" dur="750ms" values="1;.4;.5;.8;1;1" repeatCount="indefinite"></animate>
          </line>
          <line x1="24" x2="24">
            <animate attributeName="y1" dur="750ms" values="16;16;18;28;18;16" repeatCount="indefinite"></animate>
            <animate attributeName="y2" dur="750ms" values="48;48;46;36;44;48" repeatCount="indefinite"></animate>
            <animate attributeName="stroke-opacity" dur="750ms" values="1;1;.4;.5;.8;1" repeatCount="indefinite"></animate>
          </line>
          <line x1="38" x2="38">
            <animate attributeName="y1" dur="750ms" values="18;16;16;18;28;18" repeatCount="indefinite"></animate>
            <animate attributeName="y2" dur="750ms" values="44;48;48;46;36;44" repeatCount="indefinite"></animate>
            <animate attributeName="stroke-opacity" dur="750ms" values=".8;1;1;.4;.5;.8" repeatCount="indefinite"></animate>
          </line>
          <line x1="52" x2="52">
            <animate attributeName="y1" dur="750ms" values="28;18;16;16;18;28" repeatCount="indefinite"></animate>
            <animate attributeName="y2" dur="750ms" values="36;44;48;48;46;36" repeatCount="indefinite"></animate>
            <animate attributeName="stroke-opacity" dur="750ms" values=".5;.8;1;1;.4;.5" repeatCount="indefinite"></animate>
          </line>
        </g>
      </svg>
    </ion-spinner>
  </div>

  <div ng-if="server.debug" class="debug">
    <div><b>Запрос</b></div>
    <div>text: {{order.text}}</div>
    <div>near: {{order.near}}</div>
    <div>expert: {{order.expert}}</div>
    <div>urgency: {{order.urgency}}</div>
    <div><b>Сервер</b></div>
    <div>bosh: {{server.bosh}}</div>
    <div>host: {{server.host}}</div>
    <div>muc: {{server.muc}}</div>
    <div><b>Пользователь</b></div>
    <div>username: {{user.username}}</div>
    <div>password: {{user.password}}</div>
    <div><b>Соединение</b></div>
    <div>status: {{connection.status}}</div>
    <div>jid: {{connection.jid}}</div>
    <div><b>Комната</b></div>
    <div>status: {{chatroom.status}}</div>
    <div>name: {{chatroom.name}}</div>
    <div>topic: {{chatroom.topic}}</div>
  </div>

  <div class="padding result result-chat">
    <div ng-repeat="message in messages" class="baloon baloon-{{message.type}}">
      <div class="baloon-title">{{message.title}}</div>
      <div class="baloon-text">
        <div>{{message.text}}</div>
      </div>
    </div>
  </div>

  <div class="message" ng-class="{ 'message-show': chatroom.status == 'connected'}">
    <div class="item item-input-inset">
      <label class="item-input-wrapper">
        <input type="text" class="input-message" name="message" value="" placeholder="Введите сообщение">
      </label>
      <button class="button button-small button-positive icon super-paper-airplane" ng-click="sendMessage()"></button>
    </div>
  </div>
</div>
